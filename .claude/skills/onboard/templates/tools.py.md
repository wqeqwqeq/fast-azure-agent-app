# Tools File Template

Use this template when generating `app/agent_factory/agents/sub_agents/tools/{key}_tools.py`.

## Template

```python
"""Tool functions for {Agent Name}.

Generated by /onboard skill.
"""

import json
from datetime import datetime
from typing import Annotated


def {tool_name}(
    {param_name}: Annotated[{param_type}, "{param_description}"],
) -> str:
    """{Tool description in one sentence}.

    Args:
        {param_name}: {param_description}

    Returns:
        JSON string with result.
    """
    # TODO: Implement actual logic
    # Example implementation:
    # result = call_your_api(param_name)
    # return json.dumps({"status": "success", "data": result})

    raise NotImplementedError(
        "{tool_name} is not yet implemented. "
        "Replace this stub with actual implementation."
    )


def {tool_name_2}(
    {param_name}: Annotated[{param_type}, "{param_description}"],
    {param_name_2}: Annotated[{param_type_2}, "{param_description_2}"] = None,
) -> str:
    """{Tool description 2 in one sentence}.

    Args:
        {param_name}: {param_description}
        {param_name_2}: {param_description_2} (optional)

    Returns:
        JSON string with result.
    """
    raise NotImplementedError(
        "{tool_name_2} is not yet implemented."
    )
```

## Example: Working Tool

Based on `service_health_tools.py`:

```python
import json
from datetime import datetime
from typing import Annotated


def get_leave_balance(
    employee_id: Annotated[str, "Employee ID to check balance for"],
) -> str:
    """Get remaining PTO/vacation days for an employee."""
    # Mock implementation - replace with actual API call
    return json.dumps(
        {
            "employee_id": employee_id,
            "vacation_days": 15,
            "sick_days": 5,
            "personal_days": 2,
            "checked_at": datetime.utcnow().isoformat() + "Z",
        },
        indent=2,
    )


def submit_leave_request(
    employee_id: Annotated[str, "Employee ID"],
    start_date: Annotated[str, "Start date (YYYY-MM-DD)"],
    end_date: Annotated[str, "End date (YYYY-MM-DD)"],
    leave_type: Annotated[str, "Type: 'vacation', 'sick', 'personal'"] = "vacation",
) -> str:
    """Submit a new leave request for an employee."""
    return json.dumps(
        {
            "status": "submitted",
            "request_id": "REQ-12345",
            "employee_id": employee_id,
            "start_date": start_date,
            "end_date": end_date,
            "leave_type": leave_type,
            "submitted_at": datetime.utcnow().isoformat() + "Z",
        },
        indent=2,
    )
```

## Key Points

1. **No decorators needed** - Just plain Python functions
2. **Use `Annotated` for parameters** - The string becomes the parameter description for the LLM
3. **Docstring is the tool description** - Keep it concise (one sentence)
4. **Always return JSON string** - Use `json.dumps()` with `indent=2`
5. **Use `datetime.utcnow().isoformat() + "Z"` for timestamps**

## Return Format Guidelines

### Success Response
```python
return json.dumps({
    "status": "success",  # or specific status like "submitted", "found"
    "data": result_data,
    "checked_at": datetime.utcnow().isoformat() + "Z",
}, indent=2)
```

### Error Response
```python
return json.dumps({
    "status": "error",
    "message": "Description of what went wrong",
}, indent=2)
```

## Type Hints with Annotated

```python
# Required parameter
param: Annotated[str, "Description here"]

# Optional parameter with default
param: Annotated[str, "Description here"] = "default_value"

# Common types
employee_id: Annotated[str, "Employee ID"]
count: Annotated[int, "Number of items to return"]
include_details: Annotated[bool, "Whether to include detailed info"] = False
tags: Annotated[list, "List of tags to filter by"] = None
```
