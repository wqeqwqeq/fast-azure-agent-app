# Sub-Agent File Template

Use this template when generating `app/agent_factory/agents/sub_agents/{key}_agent.py`.

## Template

```python
"""{Agent Name} - {Agent Description}

Generated by /onboard skill.
"""

from dataclasses import dataclass
from typing import Optional

from ...factory import create_agent
from ...model_registry import ModelRegistry
from .tools.{key}_tools import (
    {tool_function_1},
    {tool_function_2},
)


@dataclass(frozen=True)
class {Key}AgentConfig:
    """Configuration for the {Agent Name} agent."""

    name: str = "{key}-agent"
    description: str = "{agent_description}"
    instructions: str = """You are a {agent_description}.

## Your Capabilities
{capabilities_list_as_bullets}

## Available Tools
{tools_description_with_parameters}

## Guidelines
- Always verify parameters before calling tools
- Return clear, actionable information to the user
- If you cannot complete a request, explain why

## Output Format
Always format your response in Markdown:
- Use **bold** for important information
- Use bullet points for lists
- Use `code` formatting for IDs and technical values
"""


CONFIG = {Key}AgentConfig()


def create_{key}_agent(
    registry: Optional[ModelRegistry] = None,
    model_name: Optional[str] = None,
):
    """Create and return the {Agent Name} agent.

    Args:
        registry: ModelRegistry for cloud mode, None for env settings
        model_name: Model to use (only when registry provided)
    """
    return create_agent(
        name=CONFIG.name,
        description=CONFIG.description,
        instructions=CONFIG.instructions,
        registry=registry,
        model_name=model_name,
        tools=[{tool_function_1}, {tool_function_2}],
    )
```

## Naming Conventions

| Item | Format | Example |
|------|--------|---------|
| File name | `{key}_agent.py` | `leave_agent.py` |
| Class name | `{Key}AgentConfig` | `LeaveAgentConfig` |
| Factory function | `create_{key}_agent` | `create_leave_agent` |
| Agent name field | `{key}-agent` | `leave-agent` |

## Key Points

1. **Import tools from sibling tools directory**: `from .tools.{key}_tools import ...`
2. **Use `@dataclass(frozen=True)`** for immutable config
3. **Use `create_agent()` from factory**: This creates a `ChatAgent` instance
4. **Pass tools as list**: `tools=[func1, func2, ...]`
5. **Registry/model_name optional**: Supports both local dev and cloud modes
